<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>ajax_encode.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=GB18030">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
	   <script type="text/javascript">
	       String.prototype.lenB = function () {
	            return this.replace(/[^\x0-\xf]/g, "##").length;
           }
	       function getXMLHTTPRequest() { 
	           var myRequest = null;
	           myRequest = new ActiveXObject("Microsoft.XMLHTTP");
	           return myRequest;
           }
           function send(){
           var obj = document.getElementById("name");
	           try {
		            var myRequest = getXMLHTTPRequest();
		            if (myRequest) {
			            myRequest.onreadystatechange = function () {
				            if (myRequest.readyState == 4) {  
				   				   
						        alert(myRequest.responseText);
			                }
		             };
		    myRequest.open("POST", "/webdemo/servlet/AjaxEncode", true);
		    var msg = encodeURI(encodeURI("name=" + obj.value));
			//var msg =encodeURI("name=" + obj.value;);
			//var msg = "name=" + obj.value;		    
		    myRequest.setRequestHeader("Content-Length", msg.lenB());
		    myRequest.setRequestHeader("content-type", "application/x-www-form-urlencoded");
		    myRequest.send(msg);
	    }
	}
	catch (e) {
		alert(e);
	}
}

	   </script>
  </head>
  
  <body>
  		
			name£º<input name="name" />
			<p />				
		    <input type="button" value="Ìá½»" onclick="send()" />
  </body>
</html>
